"use strict";(self["webpackChunkmonstradore"]=self["webpackChunkmonstradore"]||[]).push([[656],{3656:function(e,t,o){o.r(t),o.d(t,{default:function(){return C}});var a=o(3396),s=o(7139),n=o(5101);const i={key:0,class:"screen"},r={style:{display:"none"},ref:"canva"},c={class:"photo-button-container"},d={key:1,class:"screen"};function l(e,t,o,l,h,u){const p=(0,a.up)("photos-gallery");return(0,a.wg)(),(0,a.iD)(a.HY,null,[h.photo?((0,a.wg)(),(0,a.iD)("div",i,[(0,a._)("video",{autoplay:"",playsinline:"",class:(0,s.C_)(["user"===h.facingMode?"front":"","video"]),ref:"video"},null,2),(0,a._)("canvas",r,null,512),(0,a._)("div",c,[(0,a.Wm)(n.T,{class:"button photo-button",onClick:u.TakePhoto,icon:"mdi-camera"},null,8,["onClick"])])])):(0,a.kq)("",!0),0!==h.photos.length?((0,a.wg)(),(0,a.iD)("div",d,[(0,a.Wm)(p,{class:"video",photos:h.photos},null,8,["photos"])])):(0,a.kq)("",!0)],64)}o(7658);var h=o(9242);function u(e,t,o,s,n,i){const r=(0,a.up)("photo");return(0,a.wg)(),(0,a.j4)(h.W3,{class:"photos-container",name:"list-animated"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.photos,(e=>((0,a.wg)(),(0,a.j4)(r,{class:"list-animated-item",key:e.id,src:e.src},null,8,["src"])))),128))])),_:1})}const p=["src"];function v(e,t,o,s,n,i){return(0,a.wg)(),(0,a.iD)("img",{src:o.src},null,8,p)}var m={props:{src:{type:String,default:null}}},g=o(89);const f=(0,g.Z)(m,[["render",v],["__scopeId","data-v-e0b421ca"]]);var w=f,y={components:{Photo:w},props:{photos:{type:Array,default:()=>[]}}};const k=(0,g.Z)(y,[["render",u],["__scopeId","data-v-4bc7c0ab"]]);var D=k,b={name:"CameraView",components:{PhotosGallery:D},data(){return{photos:[],mediaStream:null,videoDevices:[],facingMode:"environment",counter:0,switchingCamera:!1,photo:!0}},methods:{async StartRecording(e){this.facingMode=e;let t=this.$refs.video;return this.mediaStream=await navigator.mediaDevices.getUserMedia({video:{facingMode:e}}),t.srcObject=this.mediaStream,await t.play()},async TakePhoto(){let e=this.$refs.video,t=this.$refs.canva,o=e.videoWidth,a=e.videoHeight;t.width=o,t.height=a;let s=t.getContext("2d");s.save(),"user"===this.facingMode?(s.scale(-1,1),s.drawImage(e,-1*o,0,o,a)):s.drawImage(e,0,0),s.restore(),this.photos.push({id:this.counter++,src:t.toDataURL("image/png")}),this.photo=!1}},async mounted(){const e=await navigator.mediaDevices.enumerateDevices();this.videoDevices=e.filter((e=>"videoinput"===e.kind)),await this.StartRecording(1===this.videoDevices.length?"user":"environment")}};const _=(0,g.Z)(b,[["render",l],["__scopeId","data-v-665968bb"]]);var C=_}}]);
//# sourceMappingURL=656.5b3220d9.js.map